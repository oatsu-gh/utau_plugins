# memorize_and_recall_pitch

ピッチパターンを登録したり呼び出したりするプラグイン

## 目標

よく使うピッチパターンを登録して、AutoPitchWriter のように簡単に呼び出せるようにする。

## 要件

### 登録モード

- 選択範囲のピッチパターンを記録する。その際に記録するのは次の情報。
  - 直前のノートとの音高差
  - 現在の歌詞
  - 直前のノート長
  - 現在のノート長
  - ピッチ情報


### 呼び出しモード

- 選択範囲に対してピッチパターンを適用する。登録時に使用した情報とすべて一致するものを適用する。

### バックアップ機能

- 誤って上書きしたときのために、実行直前の状態のピッチ学習データをバックアップする。

## 仕様

### データ登録方法

- CSVファイル → 不採用
  - メリット：Excelでデータ確認や編集ができる。
  - デメリット：具体的なピッチ形状をイメージしづらい。重複に弱い。→データ確認専用のUSTファイルを生成する。
- JSONファイル → 採用
  - メリット：呼び出しモードの優先順位が固定であれば探索が非常に容易
  - デメリット：プラグインの仕様変更に対して脆弱
- USTファイル → 不採用
  - メリット：UTAUで編集できれば視覚的にデータを確認できる。
  - デメリット：直前のノートと併せて保存しなければならない。UTAUで開いて上書きしてしまうとバグる可能性がある（データ重複など）。分類が難しそう。
